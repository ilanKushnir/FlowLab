[defaults]
# Disable deprecation warnings for cleaner output
deprecation_warnings = False

# Use the built-in callback plugin instead of community.general.yaml
stdout_callback = default
result_format = yaml

# Performance optimizations
host_key_checking = False
timeout = 30
gathering = smart
fact_caching = memory

# Inventory configuration
inventory = ansible/inventory

# SSH configuration - will be overridden by inventory
remote_user = pi
private_key_file = ~/.ssh/id_ed25519

# Logging
log_path = ansible.log

# Colors for better readability
force_color = True

[inventory]
# Enable inventory plugins
enable_plugins = host_list, script, auto, yaml, ini, toml

[ssh_connection]
# SSH optimizations
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no
control_path_dir = ~/.ansible/cp
control_path = %(directory)s/%%h-%%p-%%r
pipelining = True

# Fix for remote_tmp directory permissions
remote_tmp = /tmp/.ansible-${USER}/tmp 